<!DOCTYPE html>

<html  dir="ltr" lang="en" xml:lang="en">
<head>
    <title>Code Along: Class Roster</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,700|Roboto+Condensed:400,300,700" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="https://academy.engagelms.com/theme/image.php/engage/theme/1668922620/favicon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="moodle, Code Along: Class Roster" />
<link rel="stylesheet" type="text/css" href="https://academy.engagelms.com/theme/yui_combo.php?rollup/3.17.2/yui-moodlesimple-min.css" /><script id="firstthemesheet" type="text/css">/** Required in order to fix style inclusion problems in IE with YUI **/</script><link rel="stylesheet" type="text/css" href="https://academy.engagelms.com/theme/styles.php/engage/1668922620_1658031630/all" />
<link rel="stylesheet" type="text/css" href="https://academy.engagelms.com/mod/book/tool/print/print.css" />
<script>
//<![CDATA[
var M = {}; M.yui = {};
M.pageloadstarttime = new Date();
M.cfg = {"wwwroot":"https:\/\/academy.engagelms.com","sesskey":"3ahuVI5Ok7","sessiontimeout":"14400","sessiontimeoutwarning":1200,"themerev":"1668922620","slasharguments":1,"theme":"engage","iconsystemmodule":"core\/icon_system_fontawesome","jsrev":"1668922620","admin":"admin","svgicons":true,"usertimezone":"America\/New_York","contextid":264390,"langrev":1668922620,"templaterev":"1668922620"};var yui1ConfigFn = function(me) {if(/-skin|reset|fonts|grids|base/.test(me.name)){me.type='css';me.path=me.path.replace(/\.js/,'.css');me.path=me.path.replace(/\/yui2-skin/,'/assets/skins/sam/yui2-skin')}};
var yui2ConfigFn = function(me) {var parts=me.name.replace(/^moodle-/,'').split('-'),component=parts.shift(),module=parts[0],min='-min';if(/-(skin|core)$/.test(me.name)){parts.pop();me.type='css';min=''}
if(module){var filename=parts.join('-');me.path=component+'/'+module+'/'+filename+min+'.'+me.type}else{me.path=component+'/'+component+'.'+me.type}};
YUI_config = {"debug":false,"base":"https:\/\/academy.engagelms.com\/lib\/yuilib\/3.17.2\/","comboBase":"https:\/\/academy.engagelms.com\/theme\/yui_combo.php?","combine":true,"filter":null,"insertBefore":"firstthemesheet","groups":{"yui2":{"base":"https:\/\/academy.engagelms.com\/lib\/yuilib\/2in3\/2.9.0\/build\/","comboBase":"https:\/\/academy.engagelms.com\/theme\/yui_combo.php?","combine":true,"ext":false,"root":"2in3\/2.9.0\/build\/","patterns":{"yui2-":{"group":"yui2","configFn":yui1ConfigFn}}},"moodle":{"name":"moodle","base":"https:\/\/academy.engagelms.com\/theme\/yui_combo.php?m\/1668922620\/","combine":true,"comboBase":"https:\/\/academy.engagelms.com\/theme\/yui_combo.php?","ext":false,"root":"m\/1668922620\/","patterns":{"moodle-":{"group":"moodle","configFn":yui2ConfigFn}},"filter":null,"modules":{"moodle-core-actionmenu":{"requires":["base","event","node-event-simulate"]},"moodle-core-blocks":{"requires":["base","node","io","dom","dd","dd-scroll","moodle-core-dragdrop","moodle-core-notification"]},"moodle-core-chooserdialogue":{"requires":["base","panel","moodle-core-notification"]},"moodle-core-dragdrop":{"requires":["base","node","io","dom","dd","event-key","event-focus","moodle-core-notification"]},"moodle-core-event":{"requires":["event-custom"]},"moodle-core-formchangechecker":{"requires":["base","event-focus","moodle-core-event"]},"moodle-core-handlebars":{"condition":{"trigger":"handlebars","when":"after"}},"moodle-core-languninstallconfirm":{"requires":["base","node","moodle-core-notification-confirm","moodle-core-notification-alert"]},"moodle-core-lockscroll":{"requires":["plugin","base-build"]},"moodle-core-maintenancemodetimer":{"requires":["base","node"]},"moodle-core-notification":{"requires":["moodle-core-notification-dialogue","moodle-core-notification-alert","moodle-core-notification-confirm","moodle-core-notification-exception","moodle-core-notification-ajaxexception"]},"moodle-core-notification-dialogue":{"requires":["base","node","panel","escape","event-key","dd-plugin","moodle-core-widget-focusafterclose","moodle-core-lockscroll"]},"moodle-core-notification-alert":{"requires":["moodle-core-notification-dialogue"]},"moodle-core-notification-confirm":{"requires":["moodle-core-notification-dialogue"]},"moodle-core-notification-exception":{"requires":["moodle-core-notification-dialogue"]},"moodle-core-notification-ajaxexception":{"requires":["moodle-core-notification-dialogue"]},"moodle-core-popuphelp":{"requires":["moodle-core-tooltip"]},"moodle-core-tooltip":{"requires":["base","node","io-base","moodle-core-notification-dialogue","json-parse","widget-position","widget-position-align","event-outside","cache-base"]},"moodle-core_availability-form":{"requires":["base","node","event","event-delegate","panel","moodle-core-notification-dialogue","json"]},"moodle-backup-backupselectall":{"requires":["node","event","node-event-simulate","anim"]},"moodle-backup-confirmcancel":{"requires":["node","node-event-simulate","moodle-core-notification-confirm"]},"moodle-course-categoryexpander":{"requires":["node","event-key"]},"moodle-course-dragdrop":{"requires":["base","node","io","dom","dd","dd-scroll","moodle-core-dragdrop","moodle-core-notification","moodle-course-coursebase","moodle-course-util"]},"moodle-course-formatchooser":{"requires":["base","node","node-event-simulate"]},"moodle-course-management":{"requires":["base","node","io-base","moodle-core-notification-exception","json-parse","dd-constrain","dd-proxy","dd-drop","dd-delegate","node-event-delegate"]},"moodle-course-util":{"requires":["node"],"use":["moodle-course-util-base"],"submodules":{"moodle-course-util-base":{},"moodle-course-util-section":{"requires":["node","moodle-course-util-base"]},"moodle-course-util-cm":{"requires":["node","moodle-course-util-base"]}}},"moodle-form-dateselector":{"requires":["base","node","overlay","calendar"]},"moodle-form-passwordunmask":{"requires":[]},"moodle-form-shortforms":{"requires":["node","base","selector-css3","moodle-core-event"]},"moodle-question-chooser":{"requires":["moodle-core-chooserdialogue"]},"moodle-question-preview":{"requires":["base","dom","event-delegate","event-key","core_question_engine"]},"moodle-question-searchform":{"requires":["base","node"]},"moodle-availability_completion-form":{"requires":["base","node","event","moodle-core_availability-form"]},"moodle-availability_date-form":{"requires":["base","node","event","io","moodle-core_availability-form"]},"moodle-availability_grade-form":{"requires":["base","node","event","moodle-core_availability-form"]},"moodle-availability_group-form":{"requires":["base","node","event","moodle-core_availability-form"]},"moodle-availability_grouping-form":{"requires":["base","node","event","moodle-core_availability-form"]},"moodle-availability_profile-form":{"requires":["base","node","event","moodle-core_availability-form"]},"moodle-mod_assign-history":{"requires":["node","transition"]},"moodle-mod_attendance-groupfilter":{"requires":["base","node"]},"moodle-mod_quiz-autosave":{"requires":["base","node","event","event-valuechange","node-event-delegate","io-form"]},"moodle-mod_quiz-dragdrop":{"requires":["base","node","io","dom","dd","dd-scroll","moodle-core-dragdrop","moodle-core-notification","moodle-mod_quiz-quizbase","moodle-mod_quiz-util-base","moodle-mod_quiz-util-page","moodle-mod_quiz-util-slot","moodle-course-util"]},"moodle-mod_quiz-modform":{"requires":["base","node","event"]},"moodle-mod_quiz-questionchooser":{"requires":["moodle-core-chooserdialogue","moodle-mod_quiz-util","querystring-parse"]},"moodle-mod_quiz-quizbase":{"requires":["base","node"]},"moodle-mod_quiz-toolboxes":{"requires":["base","node","event","event-key","io","moodle-mod_quiz-quizbase","moodle-mod_quiz-util-slot","moodle-core-notification-ajaxexception"]},"moodle-mod_quiz-util":{"requires":["node","moodle-core-actionmenu"],"use":["moodle-mod_quiz-util-base"],"submodules":{"moodle-mod_quiz-util-base":{},"moodle-mod_quiz-util-slot":{"requires":["node","moodle-mod_quiz-util-base"]},"moodle-mod_quiz-util-page":{"requires":["node","moodle-mod_quiz-util-base"]}}},"moodle-message_airnotifier-toolboxes":{"requires":["base","node","io"]},"moodle-filter_glossary-autolinker":{"requires":["base","node","io-base","json-parse","event-delegate","overlay","moodle-core-event","moodle-core-notification-alert","moodle-core-notification-exception","moodle-core-notification-ajaxexception"]},"moodle-filter_mathjaxloader-loader":{"requires":["moodle-core-event"]},"moodle-editor_atto-editor":{"requires":["node","transition","io","overlay","escape","event","event-simulate","event-custom","node-event-html5","node-event-simulate","yui-throttle","moodle-core-notification-dialogue","moodle-core-notification-confirm","moodle-editor_atto-rangy","handlebars","timers","querystring-stringify"]},"moodle-editor_atto-plugin":{"requires":["node","base","escape","event","event-outside","handlebars","event-custom","timers","moodle-editor_atto-menu"]},"moodle-editor_atto-menu":{"requires":["moodle-core-notification-dialogue","node","event","event-custom"]},"moodle-editor_atto-rangy":{"requires":[]},"moodle-report_eventlist-eventfilter":{"requires":["base","event","node","node-event-delegate","datatable","autocomplete","autocomplete-filters"]},"moodle-report_loglive-fetchlogs":{"requires":["base","event","node","io","node-event-delegate"]},"moodle-gradereport_grader-gradereporttable":{"requires":["base","node","event","handlebars","overlay","event-hover"]},"moodle-gradereport_history-userselector":{"requires":["escape","event-delegate","event-key","handlebars","io-base","json-parse","moodle-core-notification-dialogue"]},"moodle-tool_capability-search":{"requires":["base","node"]},"moodle-tool_lp-dragdrop-reorder":{"requires":["moodle-core-dragdrop"]},"moodle-tool_monitor-dropdown":{"requires":["base","event","node"]},"moodle-assignfeedback_editpdf-editor":{"requires":["base","event","node","io","graphics","json","event-move","event-resize","transition","querystring-stringify-simple","moodle-core-notification-dialog","moodle-core-notification-alert","moodle-core-notification-warning","moodle-core-notification-exception","moodle-core-notification-ajaxexception"]},"moodle-atto_accessibilitychecker-button":{"requires":["color-base","moodle-editor_atto-plugin"]},"moodle-atto_accessibilityhelper-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_align-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_bold-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_charmap-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_clear-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_collapse-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_emojipicker-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_emoticon-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_equation-button":{"requires":["moodle-editor_atto-plugin","moodle-core-event","io","event-valuechange","tabview","array-extras"]},"moodle-atto_fullscreen-button":{"requires":["event-resize","moodle-editor_atto-plugin"]},"moodle-atto_h5p-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_html-beautify":{},"moodle-atto_html-button":{"requires":["promise","moodle-editor_atto-plugin","moodle-atto_html-beautify","moodle-atto_html-codemirror","event-valuechange"]},"moodle-atto_html-codemirror":{"requires":["moodle-atto_html-codemirror-skin"]},"moodle-atto_image-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_indent-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_italic-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_link-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_managefiles-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_managefiles-usedfiles":{"requires":["node","escape"]},"moodle-atto_media-button":{"requires":["moodle-editor_atto-plugin","moodle-form-shortforms"]},"moodle-atto_noautolink-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_orderedlist-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_preview-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_recordrtc-button":{"requires":["moodle-editor_atto-plugin","moodle-atto_recordrtc-recording"]},"moodle-atto_recordrtc-recording":{"requires":["moodle-atto_recordrtc-button"]},"moodle-atto_rtl-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_strike-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_subscript-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_superscript-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_table-button":{"requires":["moodle-editor_atto-plugin","moodle-editor_atto-menu","event","event-valuechange"]},"moodle-atto_title-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_underline-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_undo-button":{"requires":["moodle-editor_atto-plugin"]},"moodle-atto_unorderedlist-button":{"requires":["moodle-editor_atto-plugin"]}}},"gallery":{"name":"gallery","base":"https:\/\/academy.engagelms.com\/lib\/yuilib\/gallery\/","combine":true,"comboBase":"https:\/\/academy.engagelms.com\/theme\/yui_combo.php?","ext":false,"root":"gallery\/1668922620\/","patterns":{"gallery-":{"group":"gallery"}}}},"modules":{"core_filepicker":{"name":"core_filepicker","fullpath":"https:\/\/academy.engagelms.com\/lib\/javascript.php\/1668922620\/repository\/filepicker.js","requires":["base","node","node-event-simulate","json","async-queue","io-base","io-upload-iframe","io-form","yui2-treeview","panel","cookie","datatable","datatable-sort","resize-plugin","dd-plugin","escape","moodle-core_filepicker","moodle-core-notification-dialogue"]},"core_comment":{"name":"core_comment","fullpath":"https:\/\/academy.engagelms.com\/lib\/javascript.php\/1668922620\/comment\/comment.js","requires":["base","io-base","node","json","yui2-animation","overlay","escape"]},"mathjax":{"name":"mathjax","fullpath":"https:\/\/cdn.jsdelivr.net\/npm\/mathjax@2.7.9\/MathJax.js?delayStartupUntil=configured"}}};
M.yui.loader = {modules: {}};

//]]>
</script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</meta><script type="text/javascript" src="/ruxitagentjs_ICA2NVfqru_10253221019152312.js" data-dtconfig="rid=RID_-719363332|rpid=1705936941|domain=engagelms.com|reportUrl=/rb_bf67049ldu|app=ea7c4b59f27d43eb|coo=1|rcdec=1209600000|featureHash=ICA2NVfqru|vcv=2|rdnt=1|uxrgce=1|bp=3|srmcrv=10|cuc=7pfhlik4|mel=100000|ssv=4|lastModification=1669302745996|dtVersion=10253221019152312|srmcrl=1|tp=500,50,0,1|uxdcw=1500|agentUri=/ruxitagentjs_ICA2NVfqru_10253221019152312.js"></script></head>

<body  id="page-mod-book-print" class="format-topics  path-mod path-mod-book chrome dir-ltr lang-en yui-skin-sam yui3-skin-sam academy-engagelms-com pagelayout-embedded course-1009 context-264390 cmid-131632 category-8 engage">
<div class="toast-wrapper mx-auto py-0 fixed-top" role="status" aria-live="polite"></div>

<div>
    <a class="sr-only sr-only-focusable" href="#maincontent">Skip to main content</a>
</div><script src="https://academy.engagelms.com/lib/javascript.php/1668922620/lib/babel-polyfill/polyfill.min.js"></script>
<script src="https://academy.engagelms.com/lib/javascript.php/1668922620/lib/polyfills/polyfill.js"></script>
<script src="https://academy.engagelms.com/theme/yui_combo.php?rollup/3.17.2/yui-moodlesimple-min.js"></script><script src="https://academy.engagelms.com/lib/javascript.php/1668922620/lib/javascript-static.js"></script>
<script src="https://academy.engagelms.com/theme/javascript.php/engage/1668922620/head"></script>
<script>
//<![CDATA[
document.body.className += ' jsenabled';
//]]>
</script>


<div id="page" >
    <section class="embedded-main">
        <div role="main"><span id="maincontent"></span><div class="book p-4">
    <div class="text-right"><a onclick="window.print();return false;" class="hidden-print" href="#"><img class="icon icon" alt="Print book" title="Print book" src="https://academy.engagelms.com/theme/image.php/engage/booktool_print/1668922620/book" />Print book</a></div>
    <div class="text-center pb-3 book_title"><h1>Code Along: Class Roster</h1></div>
    <div class="book_info w-100 pt-6 d-inline-block">
        <div class="w-50 float-left">
            <table>
                <tr>
                    <td>
                        Site:
                    </td>
                    <td class="pl-3">
                        <a href="https://academy.engagelms.com">Engage</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        Course:
                    </td>
                    <td class="pl-3">
                        C294 Software Development Using Java (2211)
                    </td>
                </tr>
                <tr>
                    <td>
                        Book:
                    </td>
                    <td class="pl-3">
                        Code Along: Class Roster
                    </td>
                </tr>
            </table>
        </div>
        <div class="w-50 float-left">
            <table class="float-right">
                <tr>
                    <td>
                        Printed by:
                    </td>
                    <td class="pl-3">
                        Mateo Guembe-Young
                    </td>
                </tr>
                <tr>
                    <td>
                        Date:
                    </td>
                    <td class="pl-3">
                        Thursday, 24 November 2022, 4:48 PM
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="w-100">
        <div class="py-5"><div class="book_toc_none"><a name="toc"></a><h2 class="text-center pb-5">Table of contents</h2><ul><li><a title="Step 1: Overview" class="font-weight-bold text-decoration-none" href="#ch31891">Step 1: Overview</a></li><li><a title="Step 2: Application Shell" class="font-weight-bold text-decoration-none" href="#ch31893">Step 2: Application Shell</a></li><li><a title="Step 3: Menu System" class="font-weight-bold text-decoration-none" href="#ch31895">Step 3: Menu System</a></li><li><a title="Step 4: Add Student Use Case" class="font-weight-bold text-decoration-none" href="#ch31896">Step 4: Add Student Use Case</a></li><li><a title="Step 5: View All Students Use Case" class="font-weight-bold text-decoration-none" href="#ch31894">Step 5: View All Students Use Case</a></li><li><a title="Step 6: Get Student" class="font-weight-bold text-decoration-none" href="#ch31897">Step 6: Get Student</a></li><li><a title="Step 7: Remove Student Use Case" class="font-weight-bold text-decoration-none" href="#ch31898">Step 7: Remove Student Use Case</a></li><li><a title="Step 8: Unknown Command and Exit" class="font-weight-bold text-decoration-none" href="#ch31899">Step 8: Unknown Command and Exit</a></li><li><a title="Step 9: Dependency Injection" class="font-weight-bold text-decoration-none" href="#ch31900">Step 9: Dependency Injection</a></li><li><a title="Step 10: Application Exceptions" class="font-weight-bold text-decoration-none" href="#ch31901">Step 10: Application Exceptions</a></li><li><a title="Step 11: File Persistence" class="font-weight-bold text-decoration-none" href="#ch31892">Step 11: File Persistence</a></li></ul></div></div>
    </div>
    <div class="w-100">
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31891"><h2 class="text-center pb-5">Step 1: Overview</h2><p>This lesson is the first in a series that form a code-along of an entire console application that puts everything that you've learned so far in the course into practice. The purpose of this code-along is to give you an example of how to design and build
    a console-based MVC CRUD application using all the tools and techniques you have learned so far. You should use this document as a template for the Address Book and DVD Library labs. We'll build this project following the Agile checklist and will
    organize it using tiered application design and MVC patterns demonstrated in this section.</p>
<h2>Application Requirements and Use Cases</h2>
<p>We will build an application that manages a roster of students. The user will be able to create, view, and delete students in the system and all student data will be persisted to a file. Here are the use cases:</p>
<ol>
    <li>Add Student</li>
    <li>View All Students</li>
    <li>View a Single Student</li>
    <li>Remove Student</li>
</ol>
<p>Further, there is a requirement that the application store all of the student data in a file so that student data persists between times the Student Roster application is run.</p>
<h2>Application Structure</h2>
<p>Figure 1 is the UML class diagram of the Class Roster application. We've seen UML diagrams of stand-alone classes in the class modeling lesson of this section. Here we introduce notation that represents interface, composition, and inheritance relationships.</p>
<figure><img class="hor" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/classRosterUML.svg" alt="UML class diagram. See long description for details.">
    <figcaption>Figure 1 – UML class diagram of Class Roster application</figcaption>
    <div class="longdesc" title="longdesc"><a href="#enddesc">Skip long description</a>
        <p>UML class diagram with two distinct parts. One part includes classes for Student, Exception and ClassRosterDaoException. ClassRosterException connects to Exception with an arrow labeled Extends. The second part includes classes for UserIOConsoleImpl,
            ClassRosterView, ClassRosterController, and ClassRosterDaoFileImpl. ClassRosterDAOFileImpl is connected to an interface named ClassRosterDao, using a line with a circle on the ClassRosterDao side. ClassRosterController also connects to the
            ClassRosterDao using an arrow with a diamond labeled 1 on the ClassRosterController end. ClassRosterController connects to ClassRosterView using an arrow with a diamond labeled 1 on the ClassRosterController end. ClassRosterView also connects
            to an interface labeled UserIO using an arrow with a diamond labeled 1 on the ClassRosterController end. UserIOConsoleImpl connects to the UserIO interface using a line with a circle on the UserIO end.</p>
        <p id="enddesc">End long description</p>
    </div>
</figure>
<h3>Interface Relationships</h3>
<p>The lines ending in circles show that a class implements a particular interface. For example, <code>ClassRosterDaoFileImpl</code> implements the <code>ClassRosterDao</code> interface in the above diagram. Our convention is to name the interface for the
    logical component that it represents — in this case, the <code>ClassRosterDao</code>. Each class that implements the interface will be named for the type of implementation that the class represents and always ends in Impl (for implementation). Here,
    our DAO is implemented using text files so it is called <code>ClassRosterDaoFileImpl</code>. If we had an implementation that used a database instead, it might be called <code>ClassRosterDaoDatabaseImpl</code>.</p>
<h3>Composition Relationships</h3>
<p>The lines that end in diamonds represent composition. For example, <code>ClassRosterController</code> has a member that is a <code>ClassRosterDao</code> and a member that is a <code>ClassRosterView</code>. <code>ClassRosterView</code> has a member of
    type <code>UserIO</code>.</p>
<h3>Inheritance Relationships</h3>
<p>The line ending in the arrowhead represents inheritance. Here, our <code>ClassRosterDaoException</code> extends <code>Exception</code>.</p>
<p>Keep this diagram in mind as we build the application — we'll see all of the implementation details as we go.</p>
<h3>Classes and Interfaces in Our Application</h3>
<p>The Class Roster application will have six classes:</p>
<ol>
    <li><code>Student</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This is the DTO that holds all the Student info.</li>
        </ol>
    </li>
    <li><code>UserIOConsoleImpl</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This is the console-specific implementation of the <code>UserIO</code> interface.</li>
        </ol>
    </li>
    <li><code>ClassRosterView</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This class handles all the UI logic.</li>
        </ol>
    </li>
    <li><code>ClassRosterController</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This is the orchestrator of the application. It knows what needs to be done, when it needs to be done, and what component can do the job.</li>
        </ol>
    </li>
    <li><code>ClassRosterDaoFileImpl</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This is the text file-specific implementation of the ClassRosterDao interface.</li>
        </ol>
    </li>
    <li><code>ClassRosterDaoException</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This is the error class for our application. It extends <code>Exception</code>.</li>
        </ol>
    </li>
</ol>
<p>The application will also have two interfaces:</p>
<ol>
    <li><code>ClassRosterDao</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This interface defines the methods that must be implemented by any class that wants to play the role of DAO in the application. We will implement a text file-based DAO in the code-along. You could imagine, however, an implementation that only
                stored student data in memory or one that stored student data in a database. Each class would be different but all would implement that same interface, ensuring that they are all well encapsulated. Note that the <code>ClassRosterController</code>                only uses this interface to reference the DAO — it is completely unaware of the implementation details.</li>
        </ol>
    </li>
    <li><code>UserIO</code>
        <ol style="list-style-type: lower-alpha;">
            <li>This interface defines the methods that must be implemented by any class that wants to directly interact with the user interface technology. We will implement a console-based user interface in the code-along. You could image, however, an implementation
                that used a windowing system or some other technology. Again, each class would be different but all would implement the same interface, ensuring that they are all well encapsulated. Note that the <code>ClassRosterView</code> only uses
                this interface to interact with the user — it is completely unaware of the implementation details.</li>
        </ol>
    </li>
</ol>
<h2>MVC Rules of the Game</h2>
<p>We're about to start building the application, but before we do, we need to review the MVC rules of the game. Keep these in mind not only as we build this application but also as you build your other applications throughout the course.</p>
<ol>
    <li>The Controller is the "brains of the operation." It knows what needs to be done, when it needs to be done, and what component can do it. It acts like a general contractor, directing work but never doing the work itself.</li>
    <li>The View (and any helper classes) is responsible for all user interaction. No other component is allowed to interact with the user.</li>
    <li>The DAO is responsible for the persistence and retrieval of Student data.</li>
    <li>The DTO is the container for Student data. The DAO and DTO comprise the Model.</li>
    <li>All components (Model, View, and Controller) can use DTOs.</li>
    <li>The Controller can talk with both the View and the DAO.</li>
    <li>The DAO cannot access the View.</li>
    <li>The View cannot access the DAO.</li>
</ol>
<h2>Construction Approach</h2>
<p>We will build the Class Roster application in the following steps:</p>
<ol>
    <li>Create the packages and empty classes and interfaces to create the shell of the program.</li>
    <li>Create the menu system.</li>
    <li>Implement each use case in order:
        <ol style="list-style-type: lower-alpha;">
            <li>Create Student</li>
            <li>Display All Students</li>
            <li>Display a Single Student</li>
            <li>Remove Student</li>
        </ol>
    </li>
</ol>
<p>We will build all functionality without file persistence first. After all the features are done, we will add persistence, which will require code to read from and write to files and handle/translate the associated exceptions. <strong>Use these steps as a guide when building the applications for all lab assignments.</strong></p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31893"><h2 class="text-center pb-5">Step 2: Application Shell</h2><p>In this step, we'll create the outline, or shell, of our program. This involves creating all the classes and interfaces (empty for now) in their correct packages so we have the overall structure of the program.</p>
<p>After creating a new project called ClassRoster, create the following packages, classes and interfaces:</p>
<ul>
    <li>com.sg.classroster
        <ul>
            <li>App.java</li>
        </ul>
    </li>
    <li>com.sg.classroster.controller
        <ul>
            <li>ClassRosterController.java</li>
        </ul>
    </li>
    <li>com.sg.classroster.dao
        <ul>
            <li>classRosterDao.java (interface)</li>
            <li>ClassRosterDaoFileImpl.java</li>
        </ul>
    </li>
    <li>com.sg.classroster.dto
        <ul>
            <li>Student.java</li>
        </ul>
    </li>
    <li>com.sg.classroster.ui
        <ul>
            <li>ClassRosterView.java</li>
            <li>UserIO.java (interface)</li>
            <li>UserIOConsoleImpl.java</li>
        </ul>
    </li>
</ul>
<p>When everything is set up correctly, the project should include the following structure in NetBeans:</p>
<figure><img class="lesson" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/ClassRoster_SO2_.png" alt="Screen shot of package and file structure from NetBeans. " data-api-returntype="File"></figure>
<h3>Notes</h3>
<ul>
    <li>The example uses the base package <code>com.sg.classroster</code> — your base package may be different depending on what you specified when you created your project.<br><br>
        <blockquote>
            <p>We strongly recommend that you match our naming convention throughout this code-along.</p>
        </blockquote>
    </li>
    <li>As indicated in the structure above, <code>ClassRosterDao.java</code> and <code>UserIO.java</code> are interfaces, not classes.</li>
</ul></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31895"><h2 class="text-center pb-5">Step 3: Menu System</h2><h2 id="overview">Overview</h2>
<p>After the shell of the program is created, we can create the menu system, or user interface, for our application. The first version of our menu system won't be backed by any functionality but it will allow the user to run the program and navigate through all the menu items.</p>
<p>This will involve working with the following files:</p>
<ul>
<li>App</li>
<li>ClassRosterController</li>
<li>ClassRosterView</li>
<li>UserIO</li>
<li>UserIOConsoleImpl</li>
</ul>
<h2 id="userioanduserioconsoleimpl">UserIO and UserIOConsoleImpl</h2>
<p>These components should look familiar: you created them earlier in an earlier lesson as part of your lab work. Go back to those previous labs and copy those components into this project.</p>
<p>UserIO should look like this (it was supplied to you in a previous lab):</p>
<figure>
<pre class="prettyprint lang-java">public interface UserIO {
    void print(String msg);

    double readDouble(String prompt);

    double readDouble(String prompt, double min, double max);

    float readFloat(String prompt);

    float readFloat(String prompt, float min, float max);

    int readInt(String prompt);

    int readInt(String prompt, int min, int max);

    long readLong(String prompt);

    long readLong(String prompt, long min, long max);

    String readString(String prompt);
}
</pre>
</figure>
<p>Take the implementation of UserIO that you completed in the previous labs and copy it into <code>UserIOConsoleImpl</code>. If you have questions about your implementation or if it is not working correctly, please talk to your instructor or one of the mentors to get it working properly.</p>
<blockquote>
<p>If you find yourself missing, or with a buggy UserIOConsoleImpl from the previous lab, you can download an official implementation to use instead:</p>
<ul>
<li><a href="https://the-software-guild.s3.amazonaws.com/bootcamp-v2.6/oop-java/m2/data-files/UserIOConsoleImpl.java" target="_blank" rel="noopener">UserIOConsoleImpl.java</a></li>
</ul>
</blockquote>
<h2 id="classrostercontroller">ClassRosterController</h2>
<p>Next, we'll start with the controller. Since this component is the "brains" of the operation, it will control when the menu system is displayed. Our strategy here is to create a method that displays the menu, gets the user's menu choice, and then calls a method that performs an action based on the user's menu choice. Type the following code into your <code>ClassRosterController</code>:</p>
<figure>
<pre class="prettyprint lang-java">public class ClassRosterController {

    private UserIO io = new UserIOConsoleImpl();

    public void run() {
        boolean keepGoing = true;
        int menuSelection = 0;
        while (keepGoing) {
            io.print("Main Menu");
            io.print("1. List Student IDs");
            io.print("2. Create New Student");
            io.print("3. View a Student");
            io.print("4. Remove a Student");
            io.print("5. Exit");

            menuSelection = io.readInt("Please select from the"
                    + " above choices.", 1, 5);

            switch (menuSelection) {
                case 1:
                    io.print("LIST STUDENTS");
                    break;
                case 2:
                    io.print("CREATE STUDENT");
                    break;
                case 3:
                    io.print("VIEW STUDENT");
                    break;
                case 4:
                    io.print("REMOVE STUDENT");
                    break;
                case 5:
                    keepGoing = false;
                    break;
                default:
                    io.print("UNKNOWN COMMAND");
            }

        }
        io.print("GOOD BYE");
    }
}
</pre>
</figure>
<h2 id="app">App</h2>
<p>Now we need to add the main method to the App class so we can test our menu system. In this method, we will instantiate our controller and call the run method. Add the following code to your App class:</p>
<figure>
<pre class="prettyprint lang-java">public class App {

    public static void main(String[] args) {
        ClassRosterController controller = new ClassRosterController();
        controller.run();
    }   
}
</pre>
</figure>
<p>Now run this code to make sure the menu is working. The output should look something like this:</p>
<figure>
<pre class="prettyprint nocode">Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
4
REMOVE STUDENT
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
5
GOOD BYE
</pre>
</figure>
<h2 id="classrosterview">ClassRosterView</h2>
<p>This initial version is okay for getting the structure of the <code>run</code> method but it breaks the rule stating that the controller should only orchestrate work and shouldn't do any of the work itself. Although the controller is using the <code>UserIOConsoleImpl</code> class to interact with the user, the controller creates and determines the layout of the menu — this should be done by the view component instead. Let's refactor this so the menu layout and rendering is in the view where it belongs. We'll do the following:</p>
<ol>
<li>Move the functionality that prints the menu and gets the user's selection to <code>ClassRosterView</code>.</li>
<li>Have the controller use <code>ClassRosterView</code> instead of <code>UserIOConsoleImpl</code> for all the work involved in displaying the menu and getting the user's selection.</li>
</ol>
<p>Add the following code to <code>ClassRosterView</code>:</p>
<figure>
<pre class="prettyprint lang-java">public class ClassRosterView {

    private UserIO io = new UserIOConsoleImpl();

    public int printMenuAndGetSelection() {
        io.print("Main Menu");
        io.print("1. List Students");
        io.print("2. Create New Student");
        io.print("3. View a Student");
        io.print("4. Remove a Student");
        io.print("5. Exit");

        return io.readInt("Please select from the above choices.", 1, 5);
    }
}
</pre>
</figure>
<p>All we have done is move the functionality for printing the menu and getting the user's selection from the controller over to the view. Notice that we're using composition here — the <code>ClassRosterView</code> <strong>has-a</strong> <code>UserIO</code> member and it uses <code>UserIO</code> to interact with the user. Remember that <code>UserIO</code> is an interface. As we have mentioned, programming to interfaces is a pattern that we'll use throughout the rest of the course. <code>ClassRosterView</code> uses the public interface, <code>UserIO</code>, and is unaware of the implementation details of the concrete implementation, <code>UserIOConsoleImpl</code>. In other words, <code>ClassRosterView</code> is unaware that it is writing to and reading from the console, it only knows that it is interacting with the user.</p>
<h2 id="classrostercontroller-1">ClassRosterController</h2>
<p>Now we need to return to the <code>ClassRosterController</code>. We'll add a member of type <code>ClassRosterView</code> and we'll have the controller use it for displaying the menu and getting the user's selection. For now, we'll leave the <code>UserIO</code> member in our Controller and use it to print out the placeholder messages for each of the menu choices. As we implement each use case, we'll replace the calls to <code>UserIO</code> with calls to <code>ClassRosterView</code>. When we're done, there will be no calls to <code>UserIO</code> left in the controller; at that point, we will remove the <code>UserIO</code> member variable.</p>
<p>Modify your controller to look like this:</p>
<figure>
<pre class="prettyprint lang-java">public class ClassRosterController {

    private ClassRosterView view = new ClassRosterView();
    private UserIO io = new UserIOConsoleImpl();

    public void run() {
        boolean keepGoing = true;
        int menuSelection = 0;
        while (keepGoing) {

            menuSelection = getMenuSelection();

            switch (menuSelection) {
                case 1:
                    io.print("LIST STUDENTS");
                    break;
                case 2:
                    io.print("CREATE STUDENT");
                    break;
                case 3:
                    io.print("VIEW STUDENT");
                    break;
                case 4:
                    io.print("REMOVE STUDENT");
                    break;
                case 5:
                    keepGoing = false;
                    break;
                default:
                    io.print("UNKNOWN COMMAND");
            }

        }
        io.print("GOOD BYE");
    }

    private int getMenuSelection() {
        return view.printMenuAndGetSelection();
    }

}
</pre>
</figure>
<p>Here we have done two things:</p>
<ol>
<li>Created a new method called <code>getMenuSelection()</code> that we call to get the <code>menuSelection</code> in the <code>run</code> method</li>
<li>Made a call to <code>printlnMenuAndGetSelection()</code> on the view member</li>
</ol>
<p>We'll use this pattern throughout the application. The <code>run</code> method will ask for the user selection and then route the request to a private controller method. These private controller methods will then orchestrate the work required to fulfill the user's requested action.</p>
<h2 id="summary">Summary</h2>
<p>All this work gives us a good foundation to build the rest of our user interface. We have a rudimentary menu system and we'll now start to fill in the required functionality as we implement each use case.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31896"><h2 class="text-center pb-5">Step 4: Add Student Use Case</h2><h2 id="overview">Overview</h2>
    <p>Now that we have the menu system in place, it is time to implement the first use case: Add Student.</p>
    <p>The first use case is always the most work to implement because you only have a menu system at this point. You can either start at the user interface and work your way back or you can start with the DTO and DAO and work towards the front.</p>
    <p>We'll start with the DTO and work our way towards the front.</p>
    <h2 id="studentdto">Student (DTO)</h2>
    <p>The first thing we'll do is create the <code>Student</code> class. Type the following into <code>Student</code>:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// Programming Language + cohort month/year</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> cohort</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">studentId </span><span class="pun">=</span><span class="pln"> studentId</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getFirstName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setFirstName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> firstName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">firstName </span><span class="pun">=</span><span class="pln"> firstName</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getLastName</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setLastName</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> lastName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lastName </span><span class="pun">=</span><span class="pln"> lastName</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getStudentId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> studentId</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getCohort</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> cohort</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setCohort</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> cohort</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cohort </span><span class="pun">=</span><span class="pln"> cohort</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">   
</span><span class="pun">}</span></pre>
    </figure>
    <p>Notice that <code>studentId</code> is a read-only field. It is passed in as a parameter to the constructor, and there is no setter for this field. All other fields on the <code>Student</code> class are read/write and must be set manually after a <code>Student</code>        object has been instantiated.</p>
    <h2 id="classrosterdaoandclassrosterdaofileimpl">ClassRosterDao and ClassRosterDaoFileImpl</h2>
    <p>Now that we have our DTO, we need someplace to store it, so we'll create the initial versions of the <code>ClassRosterDao</code> interface and the <code>ClassRosterDaoFileImpl</code> class. Since we know all our user stories, we can define the complete
        <code>ClassRosterDao</code> interface here, but we'll only implement the functionality to create a new student at this time.</p>
    <h3 id="classrosterdao">ClassRosterDao</h3>
    <p>The <code>ClassRosterDao</code> is pretty straightforward. We'll have one method for each use case. Add the following code to your ClassRosterDao file:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">ClassRosterDao</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="com">/**
     * Adds the given Student to the roster and associates it with the given
     * student id. If there is already a student associated with the given
     * student id it will return that student object, otherwise it will
     * return null.
     *
     * @param studentId id with which student is to be associated
     * @param student student to be added to the roster
     * @return the Student object previously associated with the given  
     * student id if it exists, null otherwise
     */</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> addStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">);</span><span class="pln">

    </span><span class="com">/**
     * Returns a List of all students in the roster.
     *
     * @return List containing all students in the roster.
     */</span><span class="pln">
    </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">&gt;</span><span class="pln"> getAllStudents</span><span class="pun">();</span><span class="pln">

    </span><span class="com">/**
     * Returns the student object associated with the given student id.
     * Returns null if no such student exists
     *
     * @param studentId ID of the student to retrieve
     * @return the Student object associated with the given student id,  
     * null if no such student exists
     */</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> getStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">);</span><span class="pln">

    </span><span class="com">/**
     * Removes from the roster the student associated with the given id.
     * Returns the student object that is being removed or null if
     * there is no student associated with the given id
     *
     * @param studentId id of student to be removed
     * @return Student object that was removed or null if no student
     * was associated with the given student id
     */</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> removeStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <blockquote>
        <p>Notice that all the methods in the interface are commented with Javadoc comments. This not only provides great documentation in the source code but also allows you to run the Javadoc tool on your codebase to produce HTML documentation similar
            to what we looked at for Collection, List, and Map. It also populates information about your code when using the IDE's IntelliSense.</p>
    </blockquote>
    <h3 id="classrosterdaofileimpl">ClassRosterDaoFileImpl</h3>
    <p>For this use case, we'll create the initial version of <code>ClassRosterDaoFileImpl</code> and implement the <strong><code>addStudent</code></strong> method.</p>
    <p>Our first step is to make <code>ClassRosterDaoFileImpl</code> implement the <code>ClassRosterDao</code> interface. Add the <strong><code>implements</code></strong> keyword and then click on the lightbulb icon to display the <strong>Implement all abstract methods</strong>        option as shown below:</p>
    <figure><img class="lesson" src="https://the-software-guild.s3.amazonaws.com/bootcamp-v2.6/oop-java/m2/classRoster-images/A_ClassRosterDaoFile.png" alt="Screenshot of code window. A line of code reads public class ClassRosterDaoFileImpl implements ClassRosterDao. A screen tip appears under the line of code with two lines of text: Implement all abstract methods and Make class ClassRosterDaoFileImpl abstract."></figure>
    <p>After implementing all abstract methods, <code>ClassRosterDaoFileImpl</code> should look like this — each method simply throws an <code>UnsupportedOperationException</code> for now, which is fine:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ClassRosterDaoFileImpl</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">ClassRosterDao</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> addStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnsupportedOperationException</span><span class="pun">(</span><span class="str">"Not supported yet."</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">&gt;</span><span class="pln"> getAllStudents</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnsupportedOperationException</span><span class="pun">(</span><span class="str">"Not supported yet."</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> getStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnsupportedOperationException</span><span class="pun">(</span><span class="str">"Not supported yet."</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> removeStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnsupportedOperationException</span><span class="pun">(</span><span class="str">"Not supported yet."</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></pre>
    </figure>
    <p>As we mentioned earlier, the initial version of <code>ClassRosterDaoFileImpl</code> will hold all data in memory only — it won't read from or write to a file. We'll add the file persistence feature at the end. Even when we add the file persistence
        code, we'll need to have a data structure to hold all the student information. We're going to use a map here because we need to look up students by id and this will be easy to do with a map that uses student id as the key.</p>
    <p>Add the following private member to your <code>ClassRosterDaoFileImpl</code>:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">private</span><span class="pln"> </span><span class="typ">Map</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Student</span><span class="pun">&gt;</span><span class="pln"> students </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HashMap</span><span class="pun">&lt;&gt;();</span></pre>
    </figure>
    <p>Now we are ready to implement the <strong><code>addStudent</code></strong> method. This method is straightforward; we simply put the supplied <code>Student</code> into our map using the supplied student id as the key and we're done. Modify your <strong><code>addStudent</code></strong>        method to look like this:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="lit">@Override</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> addStudent</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> studentId</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> prevStudent </span><span class="pun">=</span><span class="pln"> students</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="pln">studentId</span><span class="pun">,</span><span class="pln"> student</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> prevStudent</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <h2 id="classrosterview">ClassRosterView</h2>
    <p>We now have a DTO in which to carry student information and we have a DAO in which we can store <code>Student</code> objects. Next, we need a way to get the information we need from the user to create a new <code>Student</code> object. For this, we'll
        go back to the <code>ClassRosterView</code> and add a method that does this for us. Add the following method to your <code>ClassRosterView</code> class:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="typ">Student</span><span class="pln"> getNewStudentInfo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> studentId </span><span class="pun">=</span><span class="pln"> io</span><span class="pun">.</span><span class="pln">readString</span><span class="pun">(</span><span class="str">"Please enter Student ID"</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> firstName </span><span class="pun">=</span><span class="pln"> io</span><span class="pun">.</span><span class="pln">readString</span><span class="pun">(</span><span class="str">"Please enter First Name"</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> lastName </span><span class="pun">=</span><span class="pln"> io</span><span class="pun">.</span><span class="pln">readString</span><span class="pun">(</span><span class="str">"Please enter Last Name"</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">String</span><span class="pln"> cohort </span><span class="pun">=</span><span class="pln"> io</span><span class="pun">.</span><span class="pln">readString</span><span class="pun">(</span><span class="str">"Please enter Cohort"</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> currentStudent </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Student</span><span class="pun">(</span><span class="pln">studentId</span><span class="pun">);</span><span class="pln">
    currentStudent</span><span class="pun">.</span><span class="pln">setFirstName</span><span class="pun">(</span><span class="pln">firstName</span><span class="pun">);</span><span class="pln">
    currentStudent</span><span class="pun">.</span><span class="pln">setLastName</span><span class="pun">(</span><span class="pln">lastName</span><span class="pun">);</span><span class="pln">
    currentStudent</span><span class="pun">.</span><span class="pln">setCohort</span><span class="pun">(</span><span class="pln">cohort</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> currentStudent</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <p>This method prompts the user for Student ID, First Name, Last Name, and Cohort, gathers this information, creates a new <code>Student</code> object, and returns it to the caller.</p>
    <p>We'll add two more methods to the view now. The first method simply displays a banner or heading to the UI indicating that the next interactions on the screen will be for creating a new student. The second method displays a message that the new student
        was successfully created and waits for the user to hit Enter to continue. Add the following methods to your <code>ClassRosterView</code> class:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> displayCreateStudentBanner</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    io</span><span class="pun">.</span><span class="pln">print</span><span class="pun">(</span><span class="str">"=== Create Student ==="</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> displayCreateSuccessBanner</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    io</span><span class="pun">.</span><span class="pln">readString</span><span class="pun">(</span><span class="pln">
            </span><span class="str">"Student successfully created.  Please hit enter to continue"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <h2 id="classrostercontroller">ClassRosterController</h2>
    <p>We now have all the individual parts: a DTO, a DAO with a method to store a Student DTO, and a view method that can gather student information from the user and create a new <code>Student</code> object. Our next step is to add code to the controller
        that coordinates all these parts so the user can choose to create a new student, enter all the information, and store the new student.</p>
    <p>Before we write the logic to accomplish this task, we must create a <code>ClassRosterDao</code> member field in our Controller so we can have the DAO store the newly created <code>Student</code> object for us. Add the following line just after the
        <code>ClassRosterView</code> member field in your controller:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">private</span><span class="pln"> </span><span class="typ">ClassRosterDao</span><span class="pln"> dao </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ClassRosterDaoFileImpl</span><span class="pun">();</span></pre>
    </figure>
    <p>Now we'll create a method in the Controller to orchestrate the creation of a new student. Our method will do the following:</p>
    <ol>
        <li>Display the Create Student banner</li>
        <li>Get all the student data from the user and create the new Student object</li>
        <li>Store the new Student object</li>
        <li>Display the Create Student Success banner</li>
    </ol>
    <p>Of course, the Controller won't actually do any of this work — it will have the view and the DAO do all the heavy lifting. Add the following method to your controller:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> createStudent</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    view</span><span class="pun">.</span><span class="pln">displayCreateStudentBanner</span><span class="pun">();</span><span class="pln">
    </span><span class="typ">Student</span><span class="pln"> newStudent </span><span class="pun">=</span><span class="pln"> view</span><span class="pun">.</span><span class="pln">getNewStudentInfo</span><span class="pun">();</span><span class="pln">
    dao</span><span class="pun">.</span><span class="pln">addStudent</span><span class="pun">(</span><span class="pln">newStudent</span><span class="pun">.</span><span class="pln">getStudentId</span><span class="pun">(),</span><span class="pln"> newStudent</span><span class="pun">);</span><span class="pln">
    view</span><span class="pun">.</span><span class="pln">displayCreateSuccessBanner</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <p>Finally, we have to make a call to <strong><code>createStudent</code></strong> in the <code>run</code> method when the user selects menu option 2. Update the switch statement in your <code>run</code> method to look like this:</p>
    <figure>
        <pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">menuSelection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln">
        io</span><span class="pun">.</span><span class="pln">print</span><span class="pun">(</span><span class="str">"LIST STUDENTS"</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln">
        createStudent</span><span class="pun">();</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">3</span><span class="pun">:</span><span class="pln">
        io</span><span class="pun">.</span><span class="pln">print</span><span class="pun">(</span><span class="str">"VIEW STUDENT"</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">4</span><span class="pun">:</span><span class="pln">
        io</span><span class="pun">.</span><span class="pln">print</span><span class="pun">(</span><span class="str">"REMOVE STUDENT"</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">5</span><span class="pun">:</span><span class="pln">
        keepGoing </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">default</span><span class="pun">:</span><span class="pln">
        io</span><span class="pun">.</span><span class="pln">print</span><span class="pun">(</span><span class="str">"UNKNOWN COMMAND"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></pre>
    </figure>
    <h2 id="summary">Summary</h2>
    <p>And that does it! You have implemented the Create Student use case. Of course, it is hard to see the results of our work because we can't view any of the students in the system yet. We'll fix that in the next step.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31894"><h2 class="text-center pb-5">Step 5: View All Students Use Case</h2><h2 id="overview">Overview</h2>
<p>We'll follow the same pattern used in the Create Student use case for the View All Students use case:</p>
<ol>
<li>Update the DAO implementation</li>
<li>Update the view</li>
<li>Update the controller</li>
</ol>
<p>This use case will be easier than Create Student because we don't have start from scratch — we did a lot of the groundwork when we implemented the previous use case.</p>
<h2 id="classrosterdaofileimpl">ClassRosterDaoFileImpl</h2>
<p>Here we will implement the <code>getAllStudents</code> method. Modify the <code>getAllStudents</code> method so it looks like this:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public List&lt;Student&gt; getAllStudents() {
    return new ArrayList&lt;Student&gt;(students.values());
}
</pre>
</figure>
<p>This code gets all of the <code>Student</code> objects out of the students map as a collection by calling the <code>values()</code> method. We pass that returned collection into the constructor for a new <code>ArrayList</code>. One of the constructors for <code>ArrayList</code> take a collection as a parameter, which effectively allows us to convert the collection of <code>Student</code> objects into an <code>ArrayList</code> of <code>Student</code> objects that we can return from the method. Note that our method specifies that we'll return a <code>List&lt;Student&gt;</code> but we create and return an <code>ArrayList&lt;Student&gt;</code>. This is perfectly fine because <code>ArrayList</code> implements the <code>List</code> interface so it can be treated as a <code>List</code>.</p>
<h2 id="classrosterview">ClassRosterView</h2>
<p>Here we'll create a method that takes a list of <code>Student</code> objects as a parameter and displays the information for each <code>Student</code> to the screen. After the list has been displayed, the method will pause and wait for the user to hit the Enter key. Add the following method to your <code>ClassRosterView</code> class:</p>
<figure>
<pre class="prettyprint lang-java">public void displayStudentList(List&lt;Student&gt; studentList) {
    for (Student currentStudent : studentList) {
        String studentInfo = String.format("#%s : %s %s",
              currentStudent.getStudentId(),
              currentStudent.getFirstName(),
              currentStudent.getLastName());
        io.print(studentInfo);
    }
    io.readString("Please hit enter to continue.");
}
</pre>
</figure>
<p>Now we'll add the method to show the Display All Students banner. Add the following method to your <code>ClassRosterView</code> class:</p>
<figure>
<pre class="prettyprint lang-java">public void displayDisplayAllBanner() {
    io.print("=== Display All Students ===");
}
</pre>
</figure>
<h2 id="classrostercontroller">ClassRosterController</h2>
<p>Now we'll add the code to our Controller to orchestrate the necessary activity to list all the students in the system. We'll create a method called <code>listStudents</code> that will get a list of all <code>Student</code> objects in the system from the DAO and then hand that list to the view to display to the user. Add the following method to your controller:</p>
<figure>
<pre class="prettyprint lang-java">private void listStudents() {
    view.displayDisplayAllBanner();
    List&lt;Student&gt; studentList = dao.getAllStudents();
    view.displayStudentList(studentList);
}
</pre>
</figure>
<p>Finally, we have to make a call to <code>listStudents</code> in the <code>run</code> method when the user selects menu option 1. Update the switch statement in your <code>run</code> method to look like this:</p>
<figure>
<pre class="prettyprint lang-java">switch (menuSelection) {
    case 1:
        listStudents();
        break;
    case 2:
        createStudent();
        break;
    case 3:
        io.print("VIEW STUDENT");
        break;
    case 4:
        io.print("REMOVE STUDENT");
        break;
    case 5:
        keepGoing = false;
        break;
    default:
        io.print("UNKNOWN COMMAND");
}
</pre>
</figure>
<p>You should now be able to run the program, create a new student, and view the student's ID and name. Here is a sample run of the program:</p>
<figure>
<pre class="prettyprint nocode">Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
2
=== Create Student ===
Please enter Student ID
0001
Please enter First Name
Joe
Please enter Last Name
Cool
Please enter Cohort
Java Jan 2016
Student successfully created.  Please hit enter to continue.

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
1
=== Display All Students ===
0001: Joe Cool
Please hit enter to continue.

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
</pre>
</figure>
<h2 id="summary">Summary</h2>
<p>You have now completed the second use case. Next, we'll tackle viewing a single student.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31897"><h2 class="text-center pb-5">Step 6: Get Student</h2><h2>Overview</h2>
<p>Again, we'll follow the same pattern for this use case:</p>
<ol>
<li>Update the DAO implementation</li>
<li>Update the view</li>
<li>Update the controller</li>
</ol>
<h2>ClassRosterDaoFileImpl</h2>
<p>Here we will implement the <code>getStudent</code> method. This method is quite simple — we just ask the students map for the <code>Student</code> object with the given ID and return it. Modify your <code>getStudent</code> method to look like this:</p>
<figure><pre class="prettyprint lang-java">@Override
public Student getStudent(String studentId) {
    return students.get(studentId);
}
</pre></figure>
<h2>ClassRosterView</h2>
<p>We will implement three new methods in the view for this use case:</p>
<ol>
<li><code>displayDisplayStudentBanner()</code> – shows the Display Student banner</li>
<li><code>getStudentIdChoice()</code> – asks the user for the ID of the student he/she wishes to display</li>
<li><code>displayStudent()</code> – displays a student's information to the user</li>
</ol>
<p>Add the following methods to your view:</p>
<figure><pre class="prettyprint lang-java">public void displayDisplayStudentBanner () {
    io.print("=== Display Student ===");
}

public String getStudentIdChoice() {
    return io.readString("Please enter the Student ID.");
}

public void displayStudent(Student student) {
    if (student != null) {
        io.print(student.getStudentId());
        io.print(student.getFirstName() + " " + student.getLastName());
        io.print(student.getCohort());
        io.print("");
    } else {
        io.print("No such student.");
    }
    io.readString("Please hit enter to continue.");
}
</pre></figure>
<h2>ClassRosterController</h2>
<p>Here we need to create the <strong><code>viewStudent</code></strong> method. This method asks the view to display the View Student banner and get the student ID from the user. Then it asks the DAO for the Student associated with the ID. Finally, it asks the view to display the Student information. Add the following method to your controller:</p>
<figure><pre class="prettyprint lang-java">private void viewStudent() {
    view.displayDisplayStudentBanner();
    String studentId = view.getStudentIdChoice();
    Student student = dao.getStudent(studentId);
    view.displayStudent(student);
}
</pre></figure>
<p>Finally, we have to make a call to <strong><code>viewStudent</code></strong> in the <code>run</code> method when the user selects menu option 3. Update the switch statement in your <code>run</code> method to look like this:</p>
<figure><pre class="prettyprint lang-java">switch (menuSelection) {
    case 1:
        listStudents();
        break;
    case 2:
        createStudent();
        break;
    case 3:
        viewStudent();
        break;
    case 4:
        io.print("REMOVE STUDENT");
        break;
    case 5:
        keepGoing = false;
        break;
    default:
        io.print("UNKNOWN COMMAND");
}
</pre></figure>
<p>You should now be able to create a new Student and view that Student in the application. Here is a sample run of the program:</p>
<figure><pre class="prettyprint nocode">Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
<span class="userInput">2</span>
=== Create Student ===
Please enter Student ID
<span class="userInput">0002</span>
Please enter First Name
<span class="userInput">Jane</span>
Please enter Last Name
<span class="userInput">Awesome</span>
Please enter Cohort
<span class="userInput">Java Jan 2016</span>
Student successfully created.  Please hit enter to continue

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
<span class="userInput">3</span>
=== Display Student ===
Please enter the Student ID.
<span class="userInput">0002</span>
0002
Jane Awesome
Java Jan 2016

Please hit enter to continue

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
</pre></figure>
<h2>Summary</h2>
<p>That does it — another use case complete. We'll move on to Remove Student next.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31898"><h2 class="text-center pb-5">Step 7: Remove Student Use Case</h2><h2 id="overview">Overview</h2>
<p>Our final use case will again follow the familiar pattern:</p>
<ol>
<li>Update the DAO implementation</li>
<li>Update the view</li>
<li>Update the controller</li>
</ol>
<h2 id="classrosterdaofileimpl">ClassRosterDaoFileImpl</h2>
<p>Here we will implement the <code>removeStudent()</code> method. This method is simple — we just ask the <code>students</code> map to remove the <code>Student</code> object mapped with the given ID. Modify your <code>removeStudent()</code> method to look like the following:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public Student removeStudent(String studentId) {
    Student removedStudent = students.remove(studentId);
    return removedStudent;
}
</pre>
</figure>
<h2 id="classrosterview">ClassRosterView</h2>
<p>For this use case, we just need to add two methods to our view: one to display the Remove Student banner and one to display the results of our remove. We will reuse the <code>getStudentIdChoice()</code> method that was created in a previous step. Add the following methods to your view:</p>
<figure>
<pre class="prettyprint lang-java">public void displayRemoveStudentBanner () {
    io.print("=== Remove Student ===");
}

public void displayRemoveResult(Student studentRecord) {
    if(studentRecord != null){
      io.print("Student successfully removed.");
    }else{
      io.print("No such student.");
    }
    io.readString("Please hit enter to continue.");
}
</pre>
</figure>
<h2 id="classrostercontroller">ClassRosterController</h2>
<p>Here we need to create the <code>removeStudent()</code> method. This method will ask the view to display the Remove Student banner and ask the user for the ID of the Student to be removed. It will then ask the DAO to remove the Student and capturing the returned Student, and finally, will pass the record to the view to display the results. Add the following method to your controller:</p>
<figure>
<pre class="prettyprint lang-java">private void removeStudent() {
    view.displayRemoveStudentBanner();
    String studentId = view.getStudentIdChoice();
    Student removedStudent = dao.removeStudent(studentId);
    view.displayRemoveResult(removedStudent);
}
</pre>
</figure>
<p>Finally, we have to make a call to <code>removeStudent()</code> in the <code>run</code> method when the user selects menu option 4. Update the switch statement in your <code>run</code> method to look like this:</p>
<figure>
<pre class="prettyprint lang-java">switch (menuSelection) {
    case 1:
        listStudents();
        break;
    case 2:
        createStudent();
        break;
    case 3:
        viewStudent();
        break;
    case 4:
        removeStudent();
        break;
    case 5:
        keepGoing = false;
        break;
    default:
        io.print("UNKNOWN COMMAND");
}
</pre>
</figure>
<p>You should now be able to remove a Student from the system. Here is a sample run of the program:</p>
<figure>
<pre class="prettyprint nocode">Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
<span class="userInput">1</span>
=== Display All Students ===
0003: Jamal Fantastic
Please hit enter to continue.

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
<span class="userInput">4</span>
=== Remove Student ===
Please enter the Student ID.
<span class="userInput">0003</span>
Student successfully removed.
Please hit enter to continue.
`
Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
1
=== Display All Students ===
Please hit enter to continue.

Main Menu
1. List Student IDs
2. Create New Student
3. View a Student
4. Remove a Student
5. Exit
Please select from the above choices.
</pre>
</figure>
<h2 id="summary">Summary</h2>
<p>You have now completed all the use cases for the application. You should now be able to add, display, and remove students in the system. In our next step, we'll clean up the Unknown Command and Exit processing.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31899"><h2 class="text-center pb-5">Step 8: Unknown Command and Exit</h2><h2>Overview</h2>
<p>We still have a couple of things to clean up in the controller and the view. We need to add code to handle unknown commands and exiting. After we do this, we can remove the <code>ConsolelO</code> member field from the controller because all user interaction will be handled through the view, as it should be.</p>
<h2>ClassRosterView</h2>
<p>Add the following two methods to your view:</p>
<figure>
<pre class="prettyprint lang-java">public void displayExitBanner() {
    io.print("Good Bye!!!");
}

public void displayUnknownCommandBanner() {
    io.print("Unknown Command!!!");
}
</pre>
</figure>
<h2>ClassRosterController</h2>
<p>Here we will add two methods: <code>unknownCommand</code> and <code>exitMessage</code>. These methods just ask the view to display the appropriate message to the user. Add the following methods to your controller:</p>
<figure>
<pre class="prettyprint lang-java">private void unknownCommand() {
    view.displayUnknownCommandBanner();
}

private void exitMessage() {
    view.displayExitBanner();
}
</pre>
</figure>
<p>Finally, we need to call these methods from the <code>run</code> method. Modify your <code>run</code> method to look like the following:</p>
<figure>
<pre class="prettyprint lang-java">public void run() {
    boolean keepGoing = true;
    int menuSelection = 0;
    while (keepGoing) {

        menuSelection = getMenuSelection();

        switch (menuSelection) {
            case 1:
                listStudents();
                break;
            case 2:
                createStudent();
                break;
            case 3:
                viewStudent();
                break;
            case 4:
                removeStudent();
                break;
            case 5:
                keepGoing = false;
                break;
            default:
                unknownCommand();
        }

    }
    exitMessage();
}
</pre>
</figure>
<p>Now all references to <code>UserIO</code> are gone from the controller, so we can remove the <code>UserIO</code> member field.</p>
<h2>Summary</h2>
<p>At this point, we have all the interaction with the user in the view where it belongs and we have all of the functionality in place. In the next lesson, we'll look at a technique called dependency injection that will help us make sure that our application layers are encapsulated and loosely coupled.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31900"><h2 class="text-center pb-5">Step 9: Dependency Injection</h2><h2 id="overview">Overview</h2>
<p>Our application is shaping up nicely so far — everything is well organized into a model-view-controller pattern and our classes are well designed. One of the critical pieces in good application design is the concept of loose coupling. As we mentioned earlier in this section, one technique that helps with loose coupling is programming to interfaces. We have two places in our application where we use interfaces to help with loose coupling:</p>
<ul>
<li><code>ClassRosterDao</code></li>
<li><code>UserIO</code></li>
</ul>
<p>We use these interfaces and their associated implementations because we can anticipate needing different implementations of each. For example, in this project, we create a DAO that persists student data to a file. We could imagine an implementation that only stored student data in memory or an implementation that stores student data in a database. As far as the controller is concerned, each implementation looks the same because the controller programs to the DAO interface and not to a particular implementation.</p>
<p>Although we are programming to the <code>ClassRosterDao</code> interface in the controller and to the <code>UserIO</code> interface in the view, we still hard-code our choice for implementation:</p>
<p>In our <code>ClassRosterController</code>:</p>
<figure>
<pre class="prettyprint lang-java">  private ClassRosterDao dao = new ClassRosterDaoFileImpl();
</pre>
</figure>
<p>In the <code>ClassRosterView</code>:</p>
<figure>
<pre class="prettyprint lang-java">  private UserIO io = new UserIOConsoleImpl();
</pre>
</figure>
<p>Even after all that work to create an interface and a well-designed private implementation, the controller and view are still tightly coupled to a specific implementation of the interface — all our hard work has not paid off yet.</p>
<p>What we really need is a way to tell the controller and the view which implementation of the <code>ClassRosterDao</code> and <code>UserIO</code> interfaces, respectively, to use. This concept is known as dependency injection — we'll implement a version of it in this lesson.</p>
<h2 id="implementation">Implementation</h2>
<p>It is time to see what all this looks like in practice. Here we will refactor our application to use dependency injection by doing the following:</p>
<ol>
<li>Remove the hard-coded reference to <code>ClassRosterDaoFileImpl</code> and <code>ClassRosterView</code> in the controller.</li>
<li>Remove the hard-coded reference to <code>UserIO</code> in the view.</li>
<li>Implement a constructor in the controller that has a <code>ClassRosterDao</code> parameter and a <code>ClassRosterView</code> parameter and uses the incoming values to initialize the <code>ClassRosterDao</code> and <code>ClassRosterView</code> member fields.</li>
<li>Implement a constructor in the view that has a <code>UserIO</code> parameter and uses the incoming value to initialize the <code>UserIO</code> member field.</li>
<li>Add code to the <code>main</code> method in the <code>App</code> class that wires everything up and kicks off the program.</li>
</ol>
<h3 id="classrostercontroller">ClassRosterController</h3>
<p>Our first step is to remove the code that initializes the view and dao member fields in the controller so that we are left with just their declarations. Modify <code>ClassRosterController</code> so the declarations look like this:</p>
<figure>
<pre class="prettyprint lang-java">  private ClassRosterView view;
  private ClassRosterDao dao;
</pre>
</figure>
<p>Now we must implement a constructor that initializes these members. Add the following constructor to your <code>ClassRosterController</code>:</p>
<figure>
<pre class="prettyprint lang-java">public ClassRosterController(ClassRosterDao dao, ClassRosterView view) {
    this.dao = dao;
    this.view = view;
}
</pre>
</figure>
<p>Why are we passing an instance of the <code>ClassRosterView</code> into our constructor? <code>ClassRosterView</code> is not an interface and we won't have any other implementations of it, so why use dependency injection here? The reason is that we are going to change <code>ClassRosterView</code> so that its dependency is injected into its constructor. We don't want to make the <code>ClassRosterController</code> responsible for injecting the right <code>UserIO</code> implementation into <code>ClassRosterView</code>; that is the job of the <code>App</code> class.</p>
<h3 id="classrosterview">ClassRosterView</h3>
<p>We'll modify <code>ClassRosterView</code> in the same way we modified the controller. First, remove the code that initializes the <code>io</code> member field. Modify <code>ClassRosterView</code> so the declaration looks like this:</p>
<figure>
<pre class="prettyprint lang-java">private UserIO io;
</pre>
</figure>
<p>Now we must implement a constructor that initializes the <code>io</code> member field. Add the following constructor to your <code>ClassRosterView</code>:</p>
<figure>
<pre class="prettyprint lang-java">public ClassRosterView(UserIO io) {
    this.io = io;
}
</pre>
</figure>
<h3 id="app">App</h3>
<p>We have all the components modified for dependency injection, so now we must modify the <code>main</code> method in our <code>App</code> class so that it configures, instantiates, and assembles the classes in our application. Our code will do the following:</p>
<ol>
<li>Declare a <code>UserIO</code> variable and initialize it with a <code>UserIOConsoleImpl</code> reference.</li>
<li>Declare and instantiate a <code>ClassRosterView</code> object, passing the <code>UserIO</code> created in the previous step into the constructor.</li>
<li>Declare a <code>ClassRosterDao</code> variable and initialize it with a <code>ClassRosterDaoFileImpl</code> reference.</li>
<li>Instantiate a <code>ClassRosterController</code>, passing the <code>ClassRosterDao</code> and <code>ClassRosterView</code> object into the constructor.</li>
<li>Call the <code>run</code> method on the controller to kick things off.</li>
</ol>
<p>Modify the <code>main</code> method in your <code>App</code> class to look like this:</p>
<figure>
<pre class="prettyprint lang-java">public static void main(String[] args) {
    UserIO myIo = new UserIOConsoleImpl();
    ClassRosterView myView = new ClassRosterView(myIo);
    ClassRosterDao myDao = new ClassRosterDaoFileImpl();
    ClassRosterController controller =
            new ClassRosterController(myDao, myView);
    controller.run();
}
</pre>
</figure>
<h2 id="summary">Summary</h2>
<p>That does it — you now have an application that uses a form of dependency injection to keep the components loosely coupled. In the next couple of steps, we'll see how to use application-specific exceptions and we'll implement the file persistence feature of the application.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31901"><h2 class="text-center pb-5">Step 10: Application Exceptions</h2><h2>ClassRosterDaoException</h2>
<p>Now we'll create the application-specific exception for our project. As we discussed earlier, the purpose of this exception is to allow us to hide the underlying implementation exceptions so that we don't leak implementation details from our DAO.</p>
<p>As demonstrated in the UML diagram for our application, <code>ClassrosterDaoException</code> extends <code>Exception</code>:</p>
<figure><img src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/classRosterUML.svg" alt="UML diagram with five classes: RuntimeException, Exception, Error, Throwable, and Object. RunTime Exception extends Exception. Both Exception and Error extend Throwable. Throwable extends Object."></figure>
<p>This is common practice when creating specific exceptions for your application. By extending <code>Exception</code>, we inherit all of the capabilities of <code>Exception</code> and then can add any special features that we wish to add. In our case, we won't add any new features — we want our exception to act just like <code>Exception</code> but extending <code>Exception</code> allows us to translate and/or wrap any implementation-specific exception that can get thrown, which is exactly the feature we're interested in. Remember that when we extend <code>Exception</code>, our new exception will be a checked exception.</p>
<p>Create the <code>ClassRosterDaoException</code> class in the <code>com.sg.classroster.dao</code> package and make it look like this:</p>
<figure>
<pre class="prettyprint lang-java">public class ClassRosterDaoException extends Exception{
    
    public ClassRosterDaoException(String message) {
        super(message);
    }
    
    public ClassRosterDaoException(String message, Throwable cause) {
        super(message, cause);
    }
    
}
</pre>
</figure>
<p>Let's analyze this code a bit. First off, notice that we use the <strong><code>extends</code></strong> keyword to indicate that we are extending <code>Exception</code>. This is standard stuff but it is a good example of where you will use inheritance fairly often.</p>
<p>Next, notice that we have two constructors. One takes just a string message and the other takes a string message and a <code>Throwable</code> cause. Also notice that each of these constructors turns around and calls the matching constructor on the <code>Exception</code> class by calling super. We do this because, as we mentioned earlier, we want <code>ClassRosterDaoException</code> to act just like <code>Exception</code>, so we let the base class constructors do all the hard work of initializing our object.</p>
<p>We will use the first constructor in cases where something is wrong in our application but it isn't caused by another exception. For example, maybe our application has some validation rules for student data input and one of the fields doesn't pass validation. In that case, we could throw a new <code>ClassRosterDaoException</code> with a message describing the problem. We'll look at these cases in the next section of the course.</p>
<p>We will use the second constructor in cases where something is wrong in our application that is caused by another exception in the underlying implementation. In these cases, we catch the implementation-specific exception (for example <code>FileNotFoundException</code>). In the <code>catch</code> block, we would create a new <code>ClassRosterDaoException</code> and pass in a new message and the exception that caused the original problem, and then we throw the newly-created <code>ClassRosterDaoException</code>. We have effectively wrapped the original exception with our application-specific exception.</p>
<p>One more question remains: Why is the type of the second parameter of the second constructor <code>Throwable</code> and not <code>Exception</code>? As it turns out, <code>Exception</code> extends <code>Throwable</code>, so in order to be able to handle the greatest number of possible errors, the constructor takes the base class rather than <code>Exception</code>. Here is an excerpt from the Javadoc for <code>Exception</code>:</p>
<figure>
<pre class="prettyprint lang-java">public class Exception extends Throwable
</pre>
</figure>
<p>The class <code>Exception</code> and its subclasses are a form of <code>Throwable</code> that indicates conditions that a reasonable application might want to catch.</p>
<h2>Summary</h2>
<p>Now you have a better idea of how exceptions are used and handled in Java. Right now, all this information probably seems a bit overwhelming, but with time and practice, you'll become more comfortable with these concepts and techniques. We'll see these concepts in action in the next section.</p></div>
            </div>
            <div class="pb-5">
            <div class="book_chapter pt-3" id="ch31892"><h2 class="text-center pb-5">Step 11: File Persistence</h2><h2>Overview</h2>
<p>In the final step of the code-along, we will add code to persist the student information to a file. The DAO code for this will follow the algorithm described in the Data Marshaling and Unmarshalling lesson. We need to make the following changes:</p>
<ol>
<li>Add methods to the DAO to read student data from a file.
<ul>
<li>Add a method to unmarshall a line of text into a Student Object</li>
<li>Add a method to iterate over a file line by line, and load students into our Map.</li>
</ul>
</li>
<li>Add a method to the DAO to write student data to a file.
<ul>
<li>Add a method to marshall a Student into a line of text.</li>
<li>Add a method to iterate over all students in our Map, and write each to a file.</li>
</ul>
</li>
<li>Modify the public methods of the DAO to read from and write to the file when appropriate.</li>
<li>Modify the DAO interface to account for the exceptions that can be thrown by the implementation.</li>
<li>Modify the controller to account for and handle exceptions thrown by the DAO.</li>
<li>Add a method to our view for displaying error messages to the user.</li>
</ol>
<h2>ClassRosterDaoFileImpl</h2>
<h3>Constants</h3>
<p>We will use the file format described in the Data Marshaling and Unmarshaling lesson. Each line in our file will consist of the student id, first name, last name, and cohort, separated by two colons like this:</p>
<figure>
<pre class="prettyprint lang-java">&lt;studentid&gt;::&lt;first name&gt;::&lt;last name&gt;::&lt;cohort&gt;</pre>
</figure>
<p>For example:</p>
<figure>
<pre class="prettyprint lang-java">0001::Joe::Cool::Java - Jan 2016
0002::Jane::Awesome::Java - April 2014
0003::Jamal:Fantastic::.NET - Jan 2016
</pre>
</figure>
<p>To start, we'll create two constants in our DAO — one for the name of the file that holds all the student data and one for the delimiter (two colons). <strong>Add the following constants near the top of your <code>ClassRosterDaoFileImpl</code> class:</strong></p>
<figure>
<pre class="prettyprint lang-java">public static final String ROSTER_FILE = "roster.txt";
public static final String DELIMITER = "::";
</pre>
</figure>
<h3>unmarshallStudent</h3>
<p>Our next step is to create a method that can translate a line of text into a Student object. This method will follow the pattern described above, and the process also described in the Data Marshaling and Unmarshaling lesson:</p>
<ol>
<li>Take in a String line to break apart for student information.</li>
<li>Split the String into chunks at the :: delimiter.</li>
<li>Create a new <code>Student</code> object.</li>
<li>Use the first value from the split String to set the Student id (this is passed into the constructor of the new <code>Student</code> object).</li>
<li>Use the second value from the split String to set the Student first name.</li>
<li>Use the third value from the split String to set the Student last name.</li>
<li>Use the fourth value from the split String to set the cohort value.</li>
</ol>
<p>Add the following method to your <code>ClassRosterDaoFileImpl</code>:</p>
<figure>
<pre class="prettyprint lang-java">private Student unmarshallStudent(String studentAsText){
    // studentAsText is expecting a line read in from our file.
    // For example, it might look like this:
    // 1234::Ada::Lovelace::Java-September1842
    //
    // We then split that line on our DELIMITER - which we are using as ::
    // Leaving us with an array of Strings, stored in studentTokens.
    // Which should look like this:
    // ______________________________________
    // |    |   |        |                  |
    // |1234|Ada|Lovelace|Java-September1842|
    // |    |   |        |                  |
    // --------------------------------------
    //  [0]  [1]    [2]         [3]
    String[] studentTokens = studentAsText.split(DELIMITER);

    // Given the pattern above, the student Id is in index 0 of the array.
    String studentId = studentTokens[0];

    // Which we can then use to create a new Student object to satisfy
    // the requirements of the Student constructor.
    Student studentFromFile = new Student(studentId);

    // However, there are 3 remaining tokens that need to be set into the
    // new student object. Do this manually by using the appropriate setters.

    // Index 1 - FirstName
    studentFromFile.setFirstName(studentTokens[1]);

    // Index 2 - LastName
    studentFromFile.setLastName(studentTokens[2]);

    // Index 3 - Cohort
    studentFromFile.setCohort(studentTokens[3]);

    // We have now created a student! Return it!
    return studentFromFile;
}
</pre>
</figure>
<p>Please note that we use the String.split(…) method to split each line in the file into an array of Strings. When the split method splits a String on the given delimiter, it throws the delimiter away. Carefully read the comments in the above code for details.</p>
<h3>loadRoster</h3>
<p>Our next step is to create a method that reads the roster file into memory. This method will follow the algorithm described in the Data Marshaling and Unmarshaling lesson:</p>
<ol>
<li>Open the file for reading.</li>
<li>For each line in the file, do the following:
<ol style="list-style-type: lower-alpha;">
<li>Read the line into a String variable.</li>
<li>Pass the line to our&nbsp;unmarshallStudent method to parse it into <code>Student</code></li>
<li>Put the newly created and initialized <code>Student</code> object into the student&nbsp;map.</li>
</ol>
</li>
<li>Close the file.</li>
</ol>
<p>Add the following method to your <code>ClassRosterDaoFileImpl</code>:</p>
<figure>
<pre class="prettyprint lang-java">private void loadRoster() throws ClassRosterDaoException {
    Scanner scanner;

    try {
        // Create Scanner for reading the file
        scanner = new Scanner(
                new BufferedReader(
                        new FileReader(ROSTER_FILE)));
    } catch (FileNotFoundException e) {
        throw new ClassRosterDaoException(
                "-_- Could not load roster data into memory.", e);
    }
    // currentLine holds the most recent line read from the file
    String currentLine;
    // currentStudent holds the most recent student unmarshalled
    Student currentStudent;
    // Go through ROSTER_FILE line by line, decoding each line into a 
    // Student object by calling the unmarshallStudent method.
    // Process while we have more lines in the file
    while (scanner.hasNextLine()) {
        // get the next line in the file
        currentLine = scanner.nextLine();
        // unmarshall the line into a Student
        currentStudent = unmarshallStudent(currentLine);

        // We are going to use the student id as the map key for our student object.
        // Put currentStudent into the map using student id as the key
        students.put(currentStudent.getStudentId(), currentStudent);
    }
    // close scanner
    scanner.close();
}</pre>
</figure>
<p>Pay close attention to the following:</p>
<ol>
<li>At the top of this method, in the <code>try-catch</code> block, we catch the <code>FileNotFoundException</code> and translate it into a <code>ClassRosterDaoException</code>.</li>
<li>We use a <code>Scanner</code> to read each line from the file one by one (this was demonstrated in the Simple File IO lesson).</li>
</ol>
<h3>marshallStudent</h3>
<p>Now we'll create the method that organizes the student information from an in memory object into a line of text, so that it can then be written properly into a file. This method will also follow the pattern described above, and also the process outlined in the Data Marshaling and Unmarshaling lesson. <br><br>However most importantly - we must preserve the order of information when we translate our Student into text because we are eventually expecting to unmarshall it back into a Student again. The write method must be the equal &amp; opposite balance to the read method:</p>
<ol>
<li>Take in a student.</li>
<li>Create a String consisting of student id, first name, last names, and cohort (in that order), separated by the :: delimiter.</li>
</ol>
<p>Add the following method to your <code>ClassRosterDaoFileImpl</code>:</p>
<figure>
<pre class="prettyprint lang-java">private String marshallStudent(Student aStudent){
    // We need to turn a Student object into a line of text for our file.
    // For example, we need an in memory object to end up like this:
    // 4321::Charles::Babbage::Java-September1842

    // It's not a complicated process. Just get out each property,
    // and concatenate with our DELIMITER as a kind of spacer. 

    // Start with the student id, since that's supposed to be first.
    String studentAsText = aStudent.getStudentId() + DELIMITER;

    // add the rest of the properties in the correct order:

    // FirstName
    studentAsText += aStudent.getFirstName() + DELIMITER;

    // LastName
    studentAsText += aStudent.getLastName() + DELIMITER;

    // Cohort - don't forget to skip the DELIMITER here.
    studentAsText += aStudent.getCohort();

    // We have now turned a student to text! Return it!
    return studentAsText;
}</pre>
</figure>
<h3>writeRoster</h3>
<p>Now we'll create the method that writes the student information from memory to a file. We will follow the algorithm outlined in the Data Marshaling and Unmarshaling lesson:</p>
<ol>
<li>Open the file for writing.</li>
<li>Go through the <code>Student</code> objects in the student&nbsp;map one by one.</li>
<li>For each <code>Student</code>, do the following:
<ol style="list-style-type: lower-alpha;">
<li>Turn a <code>Student</code> to text, using our marshallStudent method, spaced by our delimiter</li>
<li>Write the String to the output file.</li>
</ol>
</li>
<li>Close the file.</li>
</ol>
<p>Add the following method to your <code>ClassRosterDaoFileImpl</code>:</p>
<figure>
<pre class="prettyprint lang-java">/**
 * Writes all students in the roster out to a ROSTER_FILE.  See loadRoster
 * for file format.
 * 
 * @throws ClassRosterDaoException if an error occurs writing to the file
 */
private void writeRoster() throws ClassRosterDaoException {
    // NOTE FOR APPRENTICES: We are not handling the IOException - but
    // we are translating it to an application specific exception and 
    // then simple throwing it (i.e. 'reporting' it) to the code that
    // called us.  It is the responsibility of the calling code to 
    // handle any errors that occur.
    PrintWriter out;

    try {
        out = new PrintWriter(new FileWriter(ROSTER_FILE));
    } catch (IOException e) {
        throw new ClassRosterDaoException(
                "Could not save student data.", e);
    }

    // Write out the Student objects to the roster file.
    // NOTE TO THE APPRENTICES: We could just grab the student map,
    // get the Collection of Students and iterate over them but we've
    // already created a method that gets a List of Students so
    // we'll reuse it.
    String studentAsText;
    List&lt;Student&gt; studentList = this.getAllStudents();
    for (Student currentStudent : studentList) {
        // turn a Student into a String
        studentAsText = marshallStudent(currentStudent);
        // write the Student object to the file
        out.println(studentAsText);
        // force PrintWriter to write line to the file
        out.flush();
    }
    // Clean up
    out.close();
}
</pre>
</figure>
<p>Pay close attention to the following:</p>
<ol>
<li>At the top of this method, in the <code>try-catch</code> block, we catch the <code>IOException</code> and translate it into a <code>ClassRosterDaoException</code>.</li>
<li>We're using a <code>PrintWriter</code> to write to the file (this was demonstrated in the Simple File IO lesson).</li>
<li>We flush the <code>PrintWriter</code> buffer each time through the for loop to force it to write the student to the file.</li>
<li>We close the <code>PrintWriter</code> at the end.</li>
</ol>
<h3>addStudent</h3>
<p>Now that we have the <code>loadRoster</code> and <code>writeRoster</code> methods in place, we need to modify <code>addStudent</code>, <code>getAllStudents</code>, <code>getStudent</code>, and <code>removeStudent</code> so that they read from and write to the file as appropriate.</p>
<p>Add a call to <code>loadRoster</code> and to <code>writeRoster</code> and add the "<code>throws ClassRosterDaoException</code>" declaration to <code>addStudent</code> so it looks like this:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public Student addStudent(String studentId, Student student) 
 throws ClassRosterDaoException {
    loadRoster();
    Student newStudent = students.put(studentId, student);
    writeRoster();
    return newStudent;
}
	</pre>
</figure>
<p>This method reads all the <code>Student</code> objects from the file and loads them into our map. It then adds the new <code>Student</code> object to our map and then writes all the Student information to the file to make sure the change is persisted.</p>
<p>Notice that this now causes an error because the <code>addStudent</code> method declaration in the <code>ClassRosterDao</code> interface does not specify that it throws a <code>ClassRosterDaoException</code>. We'll fix that later in this document.</p>
<h3>getAllStudents</h3>
<p>Add a call to <code>loadRoster</code> and add the "<code>throws ClassRosterDaoException</code>" declaration to <code>getAllStudents</code> so it looks like this:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public List&lt;Student&gt; getAllStudents() 
 throws ClassRosterDaoException {
    loadRoster();
    return new ArrayList(students.values());
}</pre>
</figure>
<p>This method reads all the <code>Student</code> objects from the file, gets them out of the map, and then returns an <code>ArrayList</code> of the <code>Student</code> objects to the caller.<br>Notice that this now causes an error because the <code>getAllStudents</code> method declaration in the <code>ClassRosterDao</code> interface does not specify that it throws a <code>ClassRosterDaoException</code>. We'll fix that later in this document.</p>
<h3>getStudent</h3>
<p>Add a call to <code>loadRoster</code> and add the "<code>throws ClassRosterDaoException</code>" declaration to <code>getStudent</code> so it looks like this:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public Student getStudent(String studentId) 
 throws ClassRosterDaoException {
    loadRoster();
    return students.get(studentId);
}</pre>
</figure>
<p>This method reads all the <code>Student</code> objects from the file, gets the requested Student out of the map, and then returns the <code>Student</code> object to the caller.<br>Notice that this now causes an error because the <code>getStudent</code> method declaration in the <code>ClassRosterDao</code> interface does not specify that it throws a <code>ClassRosterDaoException</code>. We'll fix that later in this document.</p>
<h3>removeStudent</h3>
<p>Add a call to <code>loadRoster</code> and to <code>writeRoster</code> and add the "<code>throws ClassRosterDaoException</code>" declaration to <code>removeStudent</code> so it looks like this:</p>
<figure>
<pre class="prettyprint lang-java">@Override
public Student removeStudent(String studentId) 
 throws ClassRosterDaoException {
    loadRoster();
    Student removedStudent = students.remove(studentId);
    writeRoster();
    return removedStudent;
}</pre>
</figure>
<p>This method ensures all <code>Student</code> objects are read in from the file and loaded into our map. Then the method removes the specified <code>Student</code> object from our map, writes the updated students map to the file, and returns the removed <code>Student</code> object to the caller.</p>
<p>Notice that this now causes an error because the <code>removeStudent</code> method declaration in the <code>ClassRosterDao</code> interface does not specify that it throws a <code>ClassRosterDaoException</code>. We'll fix that later in this document.</p>
<h2>ClassRosterDao</h2>
<p>Now we need to go fix the <code>ClassRosterDao</code> interface. We'll add the <code>throws ClassRosterDaoException</code> to each of the methods. Modify <code>ClassRosterDao</code> to look like this:</p>
<figure>
<pre class="prettyprint lang-java">public interface ClassRosterDao {
    /**
     * Adds the given Student to the roster and associates it with the given 
     * student id. If there is already a student associated with the given 
     * student id it will return that student object, otherwise it will 
     * return null.
     * 
     * @param studentId id with which student is to be associated
     * @param student student to be added to the roster
     * @return the Student object previously associated with the given  
     * student id if it exists, null otherwise
     * @throws ClassRosterDaoException
     */
    Student addStudent(String studentId, Student student)
     throws ClassRosterDaoException;

    /**
     * Returns a List of all Students on the roster. 
     * 
     * @return Student List containing all students on the roster.
     * @throws ClassRosterDaoException
     */
    List&lt;Student&gt; getAllStudents()
     throws ClassRosterDaoException;

    /**
     * Returns the student object associated with the given student id.
     * Returns null if no such student exists
     * 
     * @param studentId ID of the student to retrieve
     * @return the Student object associated with the given student id,  
     * null if no such student exists
     * @throws ClassRosterDaoException
     */
    Student getStudent(String studentId)
     throws ClassRosterDaoException;

    /**
     * Removes from the roster the student associated with the given id. 
     * Returns the student object that is being removed or null if 
     * there is no student associated with the given id
     * 
     * @param studentId id of student to be removed
     * @return Student object that was removed or null if no student 
     * was associated with the given student id
     * @throws ClassRosterDaoException
     */
    Student removeStudent(String studentId)
     throws ClassRosterDaoException;
}
</pre>
</figure>
<h2>ClassRosterView</h2>
<p>We need to add one more method to our view to display the given error message to the user. We'll use this method in the controller to display any error messages we encounter.</p>
<p>Add the following method to your <code>ClassRosterView</code>:</p>
<figure>
<pre class="prettyprint lang-java">public void displayErrorMessage(String errorMsg) {
    io.print("=== ERROR ===");
    io.print(errorMsg);
}</pre>
</figure>
<h2>ClassRosterController</h2>
<p>The DAO is all taken care of, but the changes we made there broke our controller. All of the methods in our controller that call DAO methods now have compile errors because they do not have any code to handle the new <code>ClassRosterDaoExceptions</code> that the DAO is now throwing.<br>We'll fix this in two steps:</p>
<ol>
<li>We'll add "<code>throws ClassRosterDaoException</code>" to the <code>createStudent</code>, <code>viewStudent</code>, <code>removeStudent</code>, and <code>listStudents</code> methods.</li>
<li>We'll add a <code>try-catch</code> block in the <code>run</code> method.</li>
</ol>
<p>Modify the private methods in <code>ClassRosterController</code> to look like this:</p>
<figure>
<pre class="prettyprint lang-java">private int getMenuSelection() {
    return view.printMenuAndGetSelection();
}

private void createStudent() throws ClassRosterDaoException {
    view.displayCreateStudentBanner();
    Student newStudent = view.getNewStudentInfo();
    dao.addStudent(newStudent.getStudentId(), newStudent);
    view.displayCreateSuccessBanner();
}

private void listStudents() throws ClassRosterDaoException {
    view.displayDisplayAllBanner();
    List&lt;Student&gt; studentList = dao.getAllStudents();
    view.displayStudentList(studentList);
}

private void viewStudent() throws ClassRosterDaoException {
    view.displayDisplayStudentBanner();
    String studentId = view.getStudentIdChoice();
    Student student = dao.getStudent(studentId);
    view.displayStudent(student);
}

private void removeStudent() throws ClassRosterDaoException {
    view.displayRemoveStudentBanner();
    String studentId = view.getStudentIdChoice();
    Student removedStudent = dao.removeStudent(studentId);
    view.displayRemoveResult(removedStudent);
}

private void unknownCommand() {
    view.displayUnknownCommandBanner();
}

private void exitMessage() {
    view.displayExitBanner();
}</pre>
</figure>
<h3>run</h3>
<p>Now we'll add a <code>try-catch</code> block to the controller's <code>run</code> method so we can react to the <code>ClassRosterDaoExceptions</code> that potentially get thrown by our code. When we encounter an exception, we'll just tell the view to print out the error message for us.<br>Modify your <code>run</code> method to look like this:</p>
<figure>
<pre class="prettyprint lang-java">public void run() {
    boolean keepGoing = true;
    int menuSelection = 0;
    try {
        while (keepGoing) {

            menuSelection = getMenuSelection();

            switch (menuSelection) {
                case 1:
                    listStudents();
                    break;
                case 2:
                    createStudent();
                    break;
                case 3:
                    viewStudent();
                    break;
                case 4:
                    removeStudent();
                    break;
                case 5:
                    keepGoing = false;
                    break;
                default:
                    unknownCommand();
            }

        }
        exitMessage();
    } catch (ClassRosterDaoException e) {
        view.displayErrorMessage(e.getMessage());
    }
}</pre>
</figure>
<h2>Create roster.txt</h2>
<p>The final step in the code-along is to create the <em>roster.txt</em> file where our student data will be stored. To do this, switch to the <em>Files</em> tab (found next to the <em>Projects</em> tab), right-click on the <em>ClassRoster</em> folder, and select <em>New</em> and then <em>Other…</em> as shown in the image below:</p>
<figure><img class="hor" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/create-other-file.png" alt="Screenshot from NetBeans showing the context menus to create a new file in the ClassRoster folder." data-api-returntype="File"></figure>
<p>That will display the New File dialog. In the <em>Categories</em> pane, select <em>Other</em>. In the <em>Choose File Type</em> pane, select <em>Empty File</em>, and click <em>Next</em>, as shown in the image below:</p>
<figure><img class="hor" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/choose-file-type.png" alt="Screenshot of New File dialog box showing the Choose File Type options. The Project textbox reads ClassRoster. Other is selected in the Categories box on the left, and Empty File is selected in the File Types box on the right. The Next button is selected at the bottom of the dialog box." data-api-returntype="File"></figure>
<p>This will display the <em>New Empty File</em> dialog. Enter <em>roster.txt</em> in the <em>File Name</em> text entry field and hit <em>Finish</em>, as shown in the image below:</p>
<figure><img class="hor" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/name-new-file.png" alt="Screenshot of New Empty File dialog box showing the Name and Location options. The File Name text box reads roster.txt, Project reads ClassRoster, Folder is empty, and Created File displays the path to the project. The Finish button is selected at the bottom of the dialog box." data-api-returntype="File"></figure>
<p>Now <em>roster.txt</em> should show up under the Files tab, as shown here:</p>
<figure><img class="hor" src="https://the-software-guild.s3.amazonaws.com/java-oop/v2.7-2010/images/mvc-code-along/roster-txt-file.png" alt="Screenshot of Files tab in NetBeans with the new roster.txt file. The pane on the right shows two empty lines in the roster.txt file." data-api-returntype="File"></figure>
<p>Finally, open up <em>roster.txt</em> and remove all empty lines from the file. For some reason, NetBeans creates an empty line in its empty file. If you don't remove this line from <em>roster.txt</em>, you will get an ArrayIndexOutOfBoundsException when your program tries to read <em>roster.txt</em>.</p>
<h2>Summary</h2>
<p>That does it! You have created your first MVC CRUD application. Remember to follow the steps we took to build this application as you build your labs and make sure you use the code your wrote here as a template, or guide, for your future projects.</p></div>
            </div>
    </div>
</div></div>
    </section>
</div>
<script>
//<![CDATA[
var require = {
    baseUrl : 'https://academy.engagelms.com/lib/requirejs.php/1668922620/',
    // We only support AMD modules with an explicit define() statement.
    enforceDefine: true,
    skipDataMain: true,
    waitSeconds : 0,

    paths: {
        jquery: 'https://academy.engagelms.com/lib/javascript.php/1668922620/lib/jquery/jquery-3.5.1.min',
        jqueryui: 'https://academy.engagelms.com/lib/javascript.php/1668922620/lib/jquery/ui-1.12.1/jquery-ui.min',
        jqueryprivate: 'https://academy.engagelms.com/lib/javascript.php/1668922620/lib/requirejs/jquery-private'
    },

    // Custom jquery config map.
    map: {
      // '*' means all modules will get 'jqueryprivate'
      // for their 'jquery' dependency.
      '*': { jquery: 'jqueryprivate' },
      // Stub module for 'process'. This is a workaround for a bug in MathJax (see MDL-60458).
      '*': { process: 'core/first' },

      // 'jquery-private' wants the real jQuery module
      // though. If this line was not here, there would
      // be an unresolvable cyclic dependency.
      jqueryprivate: { jquery: 'jquery' }
    }
};

//]]>
</script>
<script src="https://academy.engagelms.com/lib/javascript.php/1668922620/lib/requirejs/require.min.js"></script>
<script>
//<![CDATA[
M.util.js_pending("core/first");
require(['core/first'], function() {
require(['core/prefetch'])
;
require(["media_videojs/loader"], function(loader) {
    loader.setUp('en');
});;

M.util.js_pending('theme_boost/loader');
require(['theme_boost/loader'], function() {
  M.util.js_complete('theme_boost/loader');
});
;
M.util.js_pending('core/notification'); require(['core/notification'], function(amd) {amd.init(264390, []); M.util.js_complete('core/notification');});;
M.util.js_pending('core/log'); require(['core/log'], function(amd) {amd.setConfig({"level":"warn"}); M.util.js_complete('core/log');});;
M.util.js_pending('core/page_global'); require(['core/page_global'], function(amd) {amd.init(); M.util.js_complete('core/page_global');});
    M.util.js_complete("core/first");
});
//]]>
</script>
<script src="https://academy.engagelms.com/theme/javascript.php/engage/1668922620/footer"></script>
<script>
//<![CDATA[
M.str = {"moodle":{"lastmodified":"Last modified","name":"Name","error":"Error","info":"Information","yes":"Yes","no":"No","cancel":"Cancel","confirm":"Confirm","areyousure":"Are you sure?","closebuttontitle":"Close","unknownerror":"Unknown error","file":"File","url":"URL","collapseall":"Collapse all","expandall":"Expand all"},"repository":{"type":"Type","size":"Size","invalidjson":"Invalid JSON string","nofilesattached":"No files attached","filepicker":"File picker","logout":"Logout","nofilesavailable":"No files available","norepositoriesavailable":"Sorry, none of your current repositories can return files in the required format.","fileexistsdialogheader":"File exists","fileexistsdialog_editor":"A file with that name has already been attached to the text you are editing.","fileexistsdialog_filemanager":"A file with that name has already been attached","renameto":"Rename to \"{$a}\"","referencesexist":"There are {$a} links to this file","select":"Select"},"admin":{"confirmdeletecomments":"You are about to delete comments, are you sure?","confirmation":"Confirmation"},"debug":{"debuginfo":"Debug info","line":"Line","stacktrace":"Stack trace"},"langconfig":{"labelsep":": "}};
//]]>
</script>
<script>
//<![CDATA[
(function() {Y.use("moodle-filter_mathjaxloader-loader",function() {M.filter_mathjaxloader.configure({"mathjaxconfig":"\nMathJax.Hub.Config({\n    config: [\"Accessible.js\", \"Safe.js\"],\n    errorSettings: { message: [\"!\"] },\n    skipStartupTypeset: true,\n    messageStyle: \"none\"\n});\n","lang":"en"});
});
M.util.help_popups.setup(Y);
 M.util.js_pending('random637fe69deefe62'); Y.on('domready', function() { M.util.js_complete("init");  M.util.js_complete('random637fe69deefe62'); });
})();
//]]>
</script>

</body>
</html>